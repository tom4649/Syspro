課題d　レポート
情報科学科　05221021 富張聡祥

今回のネットワークスループットの測定はTCPを用いた双方向通信によって以下の手順で行った。

1bitのデータを送受信してRTTを測定する。
サーバ側がクライアント側にデータを送り続けるのと並行して大きなデータ（5*10^9byte）をクライアント側からサーバ側へ送りサーバ側はそのデータを受信する。
大きなデータの送受信が終わった後、サーバー側は1bitのデータをクライアント側に送信する。
クライアント側の大きなデータの送信開始時刻と1bitのデータの受信時刻の差を求め、それからRTTを引いたものを大きなデータの送信時間とする。

なお動的に確保できる送受信の際に用いるバッファのメモリの大きさに限りがあったので、バッファのサイズは送信するデータのサイズよりも小さく設定し、何度か送受信を繰り返した。
双方向通信の実現のために複数スレッドを用いた。

作成したプログラムによって得られた出力は以下の通り。
自機内:5000000000 10.645523 3757.448065
異なるマシンの間:50000000 19.392444 20.626591

自機内ではおよそ3757Mbps,異なるマシンとの間では20Mbpsという結果であった。
一方で、iperf3を用いて計測した結果は以下の通り。
自機内:40104Mbps
異なるマシンの間:144Mbps

課題Cと同様に自機内、異なるマシンとの間のいずれにおいても自分で計測した結果の方がスループットが小さかった。
課題Cで得られた単方向の結果と比較すると、作成したプログラムとiperfによる両方の結果において自機内では大きくスループットが小さくなったものの
異なるマシンの間の通信ではあまりスループットが小さくなっていなかった。
このことから異なるマシンの間の通信で用いられるルータが自機内の直接通信に比べて双方向通信により適しているのではないかと考えられる。
