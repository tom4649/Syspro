課題c　レポート
情報科学科　05221021 富張聡祥

オプショナル課題にも取り組んだ。
今回のネットワークスループットの測定はTCPを用いた単方向通信によって以下の手順で行った。

1bitのデータを送受信してRTTを測定する。
大きなデータ（1*10^10byte）をクライアント側からサーバ側へ送り、サーバ側はそのデータを受信後、1bitのデータをクライアント側に送信する。
クライアント側の大きなデータの送信開始時刻と1bitのデータの受信時刻の差を求め、それからRTTを引いたものを大きなデータの送信時間とする。

なお動的に確保できる送受信の際に用いるバッファのメモリの大きさに限りがあったので、バッファのサイズは送信するデータのサイズよりも小さく設定し、何度か送受信を繰り返した。

作成したプログラムによって得られた出力は以下の通り。
自機内:10000000000 13.595675 5884.224222
異なるマシンの間:100000000 31.710303 25.228393

自機内ではおよそ5884Mbps,異なるマシンとの間では25Mbpsという結果であった。
一方で、iperf3を用いて計測した結果は以下の通り。
自機内:58345Mbps
異なるマシンの間:145Mbps

自機内、異なるマシンとの間のいずれにおいても自分で計測した結果の方がスループットが小さかったが、
これはTCPの通信にかかる時間に加えてreadやwriteなどのシステムコールにかかる時間も測定した時間に含まれているためではないかと考えられる。
また異なるマシンの間では自機内と比べてスループットがかなり小さくなった。
計測の際に使用したマシンのIPアドレスを調べるとネットワークアドレスが異なっていたことから
これは異なるマシンの間の通信ではルータを介して通信が行われたためにルータとマシンの通信やルータ同士の通信によって
自機内での直接通信よりも通信に時間がかかったためではないかと考えられる。
